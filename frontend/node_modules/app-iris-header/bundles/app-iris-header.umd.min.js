!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("ngx-smart-modal"),require("@ng-bootstrap/ng-bootstrap"),require("@angular/common/http"),require("@angular/common/locales/pt")):"function"==typeof define&&define.amd?define("app-iris-header",["exports","@angular/core","@angular/common","@angular/forms","ngx-smart-modal","@ng-bootstrap/ng-bootstrap","@angular/common/http","@angular/common/locales/pt"],e):e((t=t||self)["app-iris-header"]={},t.ng.core,t.ng.common,t.ng.forms,t.ngxSmartModal,t.ngBootstrap,t.ng.common.http,t.ng.common.locales.pt)}(this,function(t,e,n,o,i,r,a,s){"use strict";s=s&&s.hasOwnProperty("default")?s.default:s;function l(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}var p="http://localhost:3000",d=function(){function t(t){this.http=t}return t.prototype.get=function(t,e){return void 0===e&&(e=new a.HttpParams),this.http.get(""+p+t,{params:e})},t.prototype.getPagination=function(t,e,n){return this.http.get(""+p+t+"?_start="+e+"&_end="+n)},t.prototype.put=function(t,e){return void 0===e&&(e={}),this.http.put(""+p+t,JSON.stringify(e))},t.prototype.post=function(t,e,n){return void 0===e&&(e={}),console.log(JSON.stringify(e)),this.http.post(""+p+t,JSON.stringify(e),n)},t.prototype.postFormData=function(t,e,n){void 0===e&&(e={});var o=this.getFormUrlEncoded(e);return this.http.post(""+p+t,o.toString(),n)},t.prototype.getFormUrlEncoded=function(t){var e=new URLSearchParams;for(var n in t){var o=n,i=t[n];e.append(o,i)}return e},t.prototype.delete=function(t){return this.http.delete(""+p+t)},t=l([e.Injectable(),c("design:paramtypes",[a.HttpClient])],t)}(),u=function(){function t(t){this.api=t}return t.prototype.get=function(){return this.api.get("/aviso")},t.prototype.getPagination=function(t,e){return this.api.getPagination("/aviso",t,e)},t=l([e.Injectable(),c("design:paramtypes",[d])],t)}(),g=function(){function t(t){this.api=t}return t.prototype.get=function(){return this.api.get("/ocorrencia")},t.prototype.put=function(t){return this.api.put("/ocorrencia",t)},t=l([e.Injectable(),c("design:paramtypes",[d])],t)}(),f=function(){function t(t){this.api=t}return t.prototype.get=function(){return this.api.get("/perfil")},t=l([e.Injectable(),c("design:paramtypes",[d])],t)}(),m=function(){function t(t,n,o,i,r){this.noticeService=t,this.occurrenceService=n,this.profileService=o,this.modalService=i,this.elementRef=r,this.actionSelect=new e.EventEmitter;var a=document.createElement("script");a.type="text/javascript",a.src="https://cdn.agentbot.net/core/59ff0a5f9b3b351736d6d5c751b6fc3d.js",this.elementRef.nativeElement.appendChild(a)}return t.prototype.ngOnInit=function(){var t=this;this.profileService.get().subscribe(function(e){t.profiles=e,t.profile=t.profiles[0].id}),this.occurrenceService.get().subscribe(function(e){t.occurrences=e,t.unreadOccurrence=e.filter(function(t){return!t.lido}).length}),this.noticeService.get().subscribe(function(e){return t.notices=e}),setTimeout(function(){$aivo.ready(function(){$aivo.user.set("key","123456"),$aivo.user.set("name","Acaciano Neves Souza"),$aivo.user.set("email","acaciano.neves@gmail.com"),$aivo.user.set("device","11 942480645"),$aivo.user.set("instituto","Instituto Teste")})},1e3)},t.prototype.openModal=function(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",windowClass:"iris-modal"}).result.then(function(){},function(t){})},t.prototype.readMessage=function(t){this.unreadOccurrence>0&&(t.lido=!0,this.occurrenceService.put(t),this.unreadOccurrence--)},t.prototype.changeProfile=function(){this.actionSelect.emit(this.profile)},t.prototype.logOut=function(){localStorage.removeItem(this.logOutName)},l([e.Input(),c("design:type",Object)],t.prototype,"logOutName",void 0),l([e.Input(),c("design:type",Object)],t.prototype,"nameUser",void 0),l([e.Output(),c("design:type",Object)],t.prototype,"actionSelect",void 0),t=l([e.Component({selector:"t-systems-iris-header",template:'<div class="header-iris">\r\n    <div class="header-container">\r\n        <div class="logo"></div>\r\n        <div class="logo-hc"></div>\r\n        <div class="logo-faepa"></div>\r\n        <div class="separator"></div>\r\n        <ul class="nav nav-mtd tabs-info z-depth-1" role="tablist">\r\n            <li class="nav-item nav-btn-iris">\r\n                <app-mini-dropdown [data]="profiles" [(ngModel)]="profile" (changeValue)="changeProfile()">\r\n                </app-mini-dropdown>\r\n            </li>\r\n            <li class="nav-item nav-btn-iris">\r\n                <app-mini-button (click)="openModal(contentOccurrence)" title="Ocorrencias" icon="bell"\r\n                    [num]="unreadOccurrence"></app-mini-button>\r\n            </li>\r\n            <li class="nav-item nav-btn-iris">\r\n                <app-mini-button (click)="openModal(contentNotice)" icon="exclamation-circle" title="Avisos">\r\n                </app-mini-button>\r\n            </li>\r\n            <div class="content-right-header">\r\n                <div class="container-user-login">\r\n                    Olá, {{nameUser}}\r\n                </div>\r\n                <div class="container-user-login">\r\n                    <a (click)="logOut()" href="javascript:">\r\n                        <i class="fas fa-cog" placement="bottom" ngbTooltip="Alterar Senha"\r\n                            tooltipClass="tooltip-iris"></i>\r\n                    </a>\r\n                    |\r\n                    <a href="javascript:">\r\n                        <i class="fas fa-comment agent-launcher" placement="bottom" ngbTooltip="Chat" tooltipClass="tooltip-iris"></i>\r\n                    </a>\r\n                    |\r\n                    <a (click)="logOut()" href="javascript:">\r\n                        <i class="fas fa-power-off" placement="bottom" ngbTooltip="Sair"\r\n                            tooltipClass="tooltip-iris"></i>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </ul>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n<ng-template #contentOccurrence let-modal>\r\n    <div class="modal-header">\r\n        <h4 class="modal-title" id="modal-basic-title">Ocorrências</h4>\r\n        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss(\'Cross click\')">\r\n            <span aria-hidden="true">&times;</span>\r\n        </button>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div *ngFor="let item of occurrences" style="cursor: pointer;" class="alert alert-secondary alert-non-read"\r\n            [ngClass]="{\'alert-read\': item.lido}" role="alert">\r\n            <div class="date-alert">\r\n                {{item.data | date: \'dd/MM/yyyy HH:mm\'}}\r\n            </div>\r\n            <i class="far fa-check-square unread-icon" *ngIf="!item.lido"></i>\r\n            <i class="fas fa-check-square read-icon" *ngIf="item.lido"></i>\r\n            <a (click)="readMessage(item)">{{item.mensagem}}</a>\r\n        </div>\r\n    </div>\r\n</ng-template>\r\n\r\n<ng-template #contentNotice let-modal>\r\n    <div class="modal-header">\r\n        <h4 class="modal-title" id="modal-basic-title">Avisos</h4>\r\n        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss(\'Cross click\')">\r\n            <span aria-hidden="true">&times;</span>\r\n        </button>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div *ngFor="let item of notices" class="alert alert-secondary alert-default-iris" role="alert">\r\n            {{item.mensagem}} - {{item.data | date: \'dd/MM/yyyy HH:mm\'}}\r\n        </div>\r\n    </div>\r\n</ng-template>\r\n\r\n<router-outlet></router-outlet>',encapsulation:e.ViewEncapsulation.None,styles:[".header-iris{width:100%;height:65px;float:left;box-shadow:0 5px 54px 2px rgba(0,0,0,.31);box-sizing:border-box;background-color:#fff;display:table;padding-top:10px}.header-container{width:1000px;margin:0 auto;position:relative}.logo{width:60px;height:22px;float:left;background:url(../../assets/img/logo.png);margin-top:12px}.logo-hc{width:60px;height:50px;float:left;background:url(../../assets/img/HC.png) 0 0/contain no-repeat;margin-top:4px;margin-left:10px}.logo-faepa{width:40px;height:50px;float:left;background:url(../../assets/img/Faepa.jpg) 0 0/contain no-repeat;margin-top:4px;margin-left:10px}.separator{width:1px;height:50px;float:left;background-color:#eef0f4;margin-left:15px;margin-right:15px}.nav-btn-iris{margin-top:5px;margin-right:5px}.nav-bar-iris{padding:0}.content-right-header{position:absolute;right:0;margin-top:5px}.container-user-login{width:100%;float:left;font-family:Gotham;font-size:11px;font-weight:700;color:#1368ad;text-align:right}.logout-button{margin-left:5px}.iris-modal .modal-content{background-color:#fff;font-family:Gotham;box-shadow:0 2px 28px 3px rgba(0,0,0,.24);border-radius:5px}.light-blue-backdrop{background-color:#5cb3fd}.modal-title{margin-bottom:0;line-height:1.5;font-weight:300;font-size:24px;color:#0870b3}.iris-modal .close{color:#0870b3}.alert-non-read{border-radius:5px;font-size:12px;font-weight:700;background-color:#fff}.alert-read{border-color:#0a88d9;font-weight:400}.date-alert{width:100%;font-size:10px}.unread-icon{position:absolute;right:10px;font-size:16px;top:10px}.read-icon{position:absolute;right:10px;font-size:16px;top:10px;color:#0a88d9}.alert-default-iris{background-color:#fff;font-size:12px}@media screen and (max-width:1000px){.header-container{width:100%;float:left;padding-left:10px;padding-right:10px;box-sizing:border-box}.content-right-header{right:10px}}"]}),c("design:paramtypes",[u,g,f,r.NgbModal,e.ElementRef])],t)}(),h={provide:o.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return b}),multi:!0},b=function(){function t(){this.isReadOnly=!1,this.changeValue=new e.EventEmitter,this.innerValue="",this.onChangeCb=function(){},this.onTouchedCb=function(){}}return Object.defineProperty(t.prototype,"value",{get:function(){return this.innerValue},set:function(t){t!==this.innerValue&&(this.innerValue=t,this.onChangeCb(t))},enumerable:!0,configurable:!0}),t.prototype.onBlur=function(){this.onTouchedCb},t.prototype.writeValue=function(t){t!==this.innerValue&&(this.innerValue=t)},t.prototype.registerOnChange=function(t){this.onChangeCb=t},t.prototype.registerOnTouched=function(t){this.onTouchedCb=t},t.prototype.setDisabledState=function(t){this.isReadOnly=t},t.prototype.onChange=function(t){this.changeValue.emit(t)},l([e.Input(),c("design:type",Array)],t.prototype,"data",void 0),l([e.Input(),c("design:type",Object)],t.prototype,"isReadOnly",void 0),l([e.Output(),c("design:type",Object)],t.prototype,"changeValue",void 0),t=l([e.Component({selector:"app-mini-dropdown",template:'<select class="custom-select d-block w-100 custom-select-iris" [(ngModel)]="value" (ngModelChange)="onChange($event)">\r\n    <option *ngFor="let item of data" [ngValue]="item.id">{{item.name}}</option>\r\n</select>',providers:[h],styles:[".custom-select-iris{background-color:#1b7ccb;color:#fff;border-radius:20px;font-size:11px;background-image:url(../../../../assets/img/arrow-down.png);background-size:initial;font-family:Gotham;border:none}"]}),c("design:paramtypes",[])],t)}(),v=function(){function t(){}return t.prototype.ngOnInit=function(){},l([e.Input(),c("design:type",String)],t.prototype,"title",void 0),l([e.Input(),c("design:type",String)],t.prototype,"num",void 0),l([e.Input(),c("design:type",String)],t.prototype,"icon",void 0),t=l([e.Component({selector:"app-mini-button",template:'<button type="button" class="btn btn-primary btn-iris">\r\n    <i class="fas fa-{{icon}} icon-button-iris"></i>\r\n    {{title}} <span class="badge badge-light">{{num}}</span>\r\n</button>',styles:[".btn-iris{background-color:#e6e6e6;border:none;font-size:10px;font-family:Gotham;border-radius:20px;padding:8px 8px 8px 25px;color:#185689;font-weight:700;text-transform:uppercase;position:relative}.icon-button-iris{position:absolute;left:10px;top:10px}"]}),c("design:paramtypes",[])],t)}();n.registerLocaleData(s);var y=function(){function t(){}return t=l([e.NgModule({declarations:[m,b,v],imports:[n.CommonModule,o.FormsModule,i.NgxSmartModalModule.forRoot(),r.NgbModule],exports:[m,v],schemas:[e.CUSTOM_ELEMENTS_SCHEMA],providers:[d,u,g,f]})],t)}();t.HeaderModule=y,t.ɵa=m,t.ɵb=u,t.ɵc=d,t.ɵd=g,t.ɵe=f,t.ɵf=b,t.ɵg=v,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=app-iris-header.umd.min.js.map